# Docker environment specific configuration
spring:
  data:
    # Docker MongoDB connection
    mongodb:
      uri: mongodb://openframe:password123456789@openframe-mongodb:27017/openframe?authSource=admin&connectTimeoutMS=10000&socketTimeoutMS=10000&serverSelectionTimeoutMS=10000
    # Docker Cassandra connection
    cassandra:
      contact-points: openframe-cassandra
      local-datacenter: datacenter1
      keyspace-name: openframe_events
      keyspace: openframe
    # Docker Redis connection (only used by API)
    redis:
      host: openframe-redis
      port: 6379

# Docker DataStax driver configuration
datastax:
  java-driver:
    basic:
      request:
        timeout: 10s
      session-keyspace: openframe
      load-balancing-policy:
        local-datacenter: datacenter1
    advanced:
      connection:
        pool:
          local:
            size: 1
      metrics:
        session:
          enabled: true
        node:
          enabled: true
      control-connection:
        schema-agreement:
          timeout: 20s
      protocol:
        version: V4
    config-loader:
      debug: true

# Docker security configuration
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8080/auth/realms/openframe
          jwk-set-uri: http://localhost:8080/auth/realms/openframe/protocol/openid-connect/certs

# Docker logging configuration
logging:
  config: http://openframe-config-server:8888/logging/shared-logback-spring.xml
  level:
    root: INFO
    com.openframe: INFO
    org.springframework: INFO
    com.datastax.oss.driver: DEBUG
    com.datastax.driver: DEBUG
    org.springframework.data.cassandra: DEBUG
    com.datastax.oss.driver.internal.core.session: TRACE
    com.datastax.oss.driver.internal.core.pool: TRACE
    com.datastax.oss.driver.internal.core.config: DEBUG

# Docker monitoring endpoints
loki:
  url: http://openframe-loki:3100/loki/api/v1/push
  