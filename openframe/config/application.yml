# Common properties shared across all services
management:
  endpoints:
    web:
      exposure:
        include: "*"
    enabled-by-default: true
  endpoint:
    health:
      enabled: true
      show-details: always
    prometheus:
      enabled: true
    metrics:
      enabled: true
  prometheus:
    metrics:
      export:
        enabled: true
  metrics:
    tags:
      application: ${spring.application.name}
    distribution:
      percentiles-histogram:
        "[http.server.requests]": true
      sla:
        "[http.server.requests]": [10ms, 50ms, 100ms, 200ms, 500ms]

spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.actuate.autoconfigure.metrics.Log4J2MetricsAutoConfiguration
  data:
    mongodb:
      auto-index-creation: true
      connect-timeout: 10000
      socket-timeout: 10000
      max-wait-time: 10000
      server-selection-timeout: 10000
    cassandra:
      keyspace-name: openframe_events
      keyspace: openframe
      port: 9042
      local-datacenter: datacenter1
      schema-action: CREATE_IF_NOT_EXISTS
      request:
        timeout: 20s
      connection:
        connect-timeout: 20s
        init-query-timeout: 20s
      controlconnection:
        timeout: 20s
    redis:
      timeout: 2000
      connect-timeout: 2000
      lettuce:
        shutdown-timeout: 2000ms
        pool:
          enabled: true
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: 1000ms
      client-type: lettuce