apiVersion: skaffold/v4beta13
kind: Config
metadata:
  name: tactical-frontend
build:
  artifacts:
    - image: ghcr.io/flamingo-cx/openframe-tactical-frontend
      docker:
        dockerfile: Dockerfile
        buildArgs:
          POSTGRES_DB: "tacticalrmm"
          POSTGRES_USER: "postgres"
          POSTGRES_PASSWORD: "postgrespass"
          POSTGRES_HOST: "tactical-postgres"
          POSTGRES_PORT: "5432"
          REDIS_HOST: "tactical-redis"
          SMTP_HOST: "smtp.example.com"
          SMTP_PORT: "587"
          SMTP_FROM: "mesh@example.com"
          SMTP_USER: "mesh@example.com"
          SMTP_PASS: "mesh-smtp-pass"
          SMTP_TLS: "false"
          TRMM_USER: "tactical"
          TRMM_PASS: "tactical"
          TACTICAL_BACKEND_PORT: "8000"
          TRMM_PROTO: "http"
          TRMM_DISABLE_WEB_TERMINAL: "False"
          TRMM_DISABLE_SERVER_SCRIPTS: "False"
          TRMM_DISABLE_SSO: "False"
          TRMM_DISABLE_2FA: "True"
          NODE_ENV: "development"
          WS_PROTO: "ws"
          WS_MASK_OVERRIDE: "1"
          TACTICAL_DIR: "/opt/tactical"
          TACTICAL_TMP_DIR: "/tmp/tactical"
          API_HOST: "tactical-backend:8000"
          API_LOCALHOST_HOST: "localhost:8000"
          APP_HOST: "tactical-frontend:8080"
          APP_LOCALHOST_HOST: "localhost:8080"
          NATS_CONFIG: "/opt/tactical/nats-rmm.conf"
          NATS_API_CONFIG: "/opt/tactical/nats-api.conf"
          NATS_CONFIG_CHECK_INTERVAL: "5"
          NATS_STD_BIND_HOST: "tactical-nats"
          NATS_WS_BIND_HOST: "tactical-nats"
          NATS_CONNECT_HOST: "tactical-nats"
          NATS_STANDARD_PORT: "9235"
          NATS_WEBSOCKET_PORT: "4222"
          WEBSOCKET_PORT: "8383"
          WEBSOCKETS_BIND_HOST: "tactical-websockets"
  local:
    useDockerCLI: false
    useBuildkit: false
    push: false
manifests:
  rawYaml:
    - ../../../kind-cluster/apps/integrated-tools/tactical-rmm/base/tactical-frontend.yaml
