apiVersion: argoproj.io/v1alpha1
kind: ApplicationSet
metadata:
  name: platform-helm-apps
spec:
  generators:
  - list:  # appName == namespace == chart
      elements: 
 

      - appName: promtail
        repoURL: https://grafana.github.io/helm-charts
        targetRevision: 6.16.6
        path: manifests/platform/base/promtail
        branch: feature-restructure-manifests
        syncWave: "0"   
      
      - appName: grafana
        repoURL: https://grafana.github.io/helm-charts
        targetRevision: 8.13.1
        path: manifests/platform/base/grafana
        serverSideApply: "true"
        branch: feature-restructure-manifests
        syncWave: "0"
